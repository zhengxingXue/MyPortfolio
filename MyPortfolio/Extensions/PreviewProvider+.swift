//
//  PreviewProvider+.swift
//  PreviewProvider+
//
//  Created by Jim's MacBook Pro on 9/2/21.
//

import Foundation
import SwiftUI

extension PreviewProvider {
    static var dev: DeveloperPreview {
        return DeveloperPreview.instance
    }
}

class DeveloperPreview {
    static let instance = DeveloperPreview()
    
    private init() {}
    
    lazy var marketVM = InvestTabViewModel(coins: [coin])
    
    lazy var coinDetailVM = CoinDetailViewModel(coin: coin)
    
    let browseVM = BrowseTabViewModel()
    
    let coin = CoinModel(
        id: "bitcoin",
        symbol: "btc",
        name: "Bitcoin",
        image: "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",
        currentPrice: 61408,
        marketCap: 1141731099010,
        marketCapRank: 1,
        fullyDilutedValuation: 1285385611303,
        totalVolume: 67190952980,
        high24H: 61712,
        low24H: 56220,
        priceChange24H: 3952.64,
        priceChangePercentage24H: 6.87944,
        marketCapChange24H: 72110681879,
        marketCapChangePercentage24H: 6.74171,
        circulatingSupply: 18653043,
        totalSupply: 21000000,
        maxSupply: 21000000,
        ath: 61712,
        athChangePercentage: -0.97589,
        athDate: "2021-03-13T20:49:26.606Z",
        atl: 67.81,
        atlChangePercentage: 90020.24075,
        atlDate: "2013-07-06T00:00:00.000Z",
        lastUpdated: "2021-03-13T23:18:10.268Z",
        sparklineIn7D: SparklineIn7D(price: [
            54019.26878317463,
            53718.060935791524,
            53677.12968669343,
            53848.3814432924,
            53561.593235320615,
            53456.0913723206,
            53888.97184353125,
            54796.37233913172,
            54593.507358383504,
            54582.558599307624,
            54635.7248282177,
            54772.612788430226,
            55192.54513921453,
            54878.11598538206,
            54513.95881205807,
            55013.68511841942,
            55145.89456844788,
            54718.37455337104,
            54954.0493828267,
            54910.13413954234,
            54778.58411728141,
            55027.87934987173,
            55473.0657777974,
            54997.291345118225,
            54991.81484262107,
            55395.61328972238,
            55530.513360661644,
            55344.4499292381,
            54889.00473869075,
            54844.521923521665,
            54710.03981625522,
            54135.005312343856,
            54278.51586384954,
            54255.871982023025,
            54346.240757736465,
            54405.90449526803,
            54909.51138548527,
            55169.3372715675,
            54810.85302834732,
            54696.044114623706,
            54332.39670114743,
            54815.81007775886,
            55013.53089568202,
            54856.867125138066,
            55090.76841223987,
            54524.41939124773,
            54864.068334250915,
            54462.38634298567,
            54810.6138506792,
            54763.5416402156,
            54621.36137575708,
            54513.628030530825,
            54356.00127005116,
            53755.786684715764,
            54024.540451750094,
            54385.912857981304,
            54399.67618552436,
            53991.52168768531,
            54683.32533920595,
            54449.31811384671,
            54409.102042970466,
            54370.86991701537,
            53731.669170540394,
            53645.37874343392,
            53841.45014070333,
            53078.52898275558,
            52881.63656182149,
            53010.25164880975,
            52936.11939761323,
            52937.55256563505,
            53413.673939003136,
            53395.17699522727,
            53596.70402266675,
            53456.22811013035,
            53483.547854166834,
            53574.40015717944,
            53681.336964452734,
            54101.59049997355,
            54318.29276391888,
            54511.25370785759,
            54332.08597577831,
            54577.323438764404,
            54477.276388342325,
            54289.676338302765,
            54218.42837403623,
            54802.18754896328,
            55985.49640087922,
            56756.316501699876,
            57210.138362768965,
            56805.27815017699,
            56682.3217648727,
            57043.194415417776,
            56912.77785094373,
            56786.15869001341,
            57003.56072100917,
            57166.66441986013,
            57828.511814425874,
            57727.41272216753,
            58721.7528896422,
            58167.84861375856,
            58180.50145658414,
            58115.72142404893,
            58058.65960870684,
            58105.84576135331,
            57815.47461888876,
            57555.387870015315,
            57506.06807298437,
            57474.98576430212,
            57943.629057843165,
            57864.43148371131,
            57518.884140001275,
            57500.77929481661,
            57368.69249425147,
            57544.96374659641,
            57642.48628971112,
            57610.310340523756,
            57801.707574342116,
            57764.18193058321,
            57403.375409342945,
            57669.860487076316,
            57812.96915967891,
            57504.33531773738,
            57444.43455289276,
            57671.75799990867,
            56629.776997674526,
            57009.09536225692,
            56974.39138798086,
            56874.43203673815,
            56652.77633376425,
            56530.179449555064,
            56387.95830875742,
            56992.622783818544,
            57181.09163589668,
            56908.09493826477,
            56902.91387334043,
            56924.327009138164,
            56636.44312948976,
            56649.998369848996,
            56825.95829302063,
            56860.281702323526,
            56917.55558938772,
            56927.31213741791,
            56754.810633329354,
            56433.44851800957,
            56600.74528738432,
            57453.29169375094,
            58130.78114831457,
            58070.47719600076,
            57930.49833482948,
            57787.23755822543,
            58021.66564986657,
            57899.998011485266,
            58833.861160841436,
            58789.11830069634,
            58491.11446437883,
            58493.58897378262,
            58757.30471138256,
            58554.84171574884,
            57839.05673758758,
            57992.34121354044,
            57699.960140573115,
            57771.20058181922,
            58080.643272295056,
            57831.48061892176,
            57430.1839517489,
            56969.140564644826,
            57154.57504790339,
            57336.828870254896
            
        ]),
        priceChangePercentage24HInCurrency: 3952.64
    )
    
    let coinMarketChart = CoinMarketChartModel(
        prices: [
            [
                1630780171981,
                49983.945606673056
            ],
            [
                1630780492354,
                49964.45826337297
            ],
            [
                1630780796700,
                49939.697760019764
            ],
            [
                1630781098812,
                49944.501494703196
            ],
            [
                1630781421530,
                49937.42870544148
            ],
            [
                1630781663931,
                49947.96206205937
            ],
            [
                1630782042505,
                49908.234496010016
            ],
            [
                1630782281929,
                49882.71093597981
            ],
            [
                1630782590760,
                49884.86787126716
            ],
            [
                1630782899320,
                49780.10165094967
            ],
            [
                1630783149173,
                49666.03615028564
            ],
            [
                1630783512045,
                49669.26464283574
            ],
            [
                1630783799095,
                49705.20040243467
            ],
            [
                1630784105956,
                49793.33745687533
            ],
            [
                1630784393150,
                49829.36005768393
            ],
            [
                1630784697488,
                49934.24562734331
            ],
            [
                1630784999010,
                49903.472443171646
            ],
            [
                1630785296735,
                49887.380492686876
            ],
            [
                1630785596100,
                49981.52734711505
            ],
            [
                1630785899830,
                50036.76761064796
            ],
            [
                1630786192983,
                50187.49352925798
            ],
            [
                1630786511370,
                50226.4935903123
            ],
            [
                1630786818995,
                50260.10408039557
            ],
            [
                1630787081129,
                50161.58224842192
            ],
            [
                1630787397689,
                50095.641257425064
            ],
            [
                1630787691396,
                50111.700048973675
            ],
            [
                1630787994109,
                50087.50272329109
            ],
            [
                1630788288555,
                50098.98519204877
            ],
            [
                1630788630424,
                50170.7496336139
            ],
            [
                1630788900877,
                50191.59585923283
            ],
            [
                1630789250386,
                50195.10089218588
            ],
            [
                1630789508479,
                50208.96265417008
            ],
            [
                1630789814470,
                50198.20342570645
            ],
            [
                1630790079125,
                50169.19699879728
            ],
            [
                1630790374177,
                50151.04606107302
            ],
            [
                1630790674857,
                50156.77977579274
            ],
            [
                1630790997040,
                50208.17474765726
            ],
            [
                1630791321115,
                50212.580911032266
            ],
            [
                1630791651768,
                50185.64722172819
            ],
            [
                1630791888247,
                50177.39315207929
            ],
            [
                1630792207571,
                50178.48743554742
            ],
            [
                1630792503016,
                50218.42213832869
            ],
            [
                1630792799779,
                50223.51823381433
            ],
            [
                1630793100992,
                50218.07685256512
            ],
            [
                1630793414950,
                50223.7751428468
            ],
            [
                1630793701615,
                50253.187112537
            ],
            [
                1630793974657,
                50274.28340998785
            ],
            [
                1630794306441,
                50221.48523741291
            ],
            [
                1630794588206,
                50191.85076537786
            ],
            [
                1630794882616,
                50165.953209302366
            ],
            [
                1630795194704,
                50137.58711997052
            ],
            [
                1630795485598,
                49990.51555059232
            ],
            [
                1630795769096,
                49986.92559300352
            ],
            [
                1630796083081,
                49946.79276014187
            ],
            [
                1630796432312,
                49899.35146962544
            ],
            [
                1630796722610,
                49814.662743166795
            ],
            [
                1630796971251,
                49793.16532241303
            ],
            [
                1630797278467,
                49806.68653720827
            ],
            [
                1630797585147,
                49828.53550412237
            ],
            [
                1630797897725,
                49827.805049822804
            ],
            [
                1630798191692,
                49818.639452826676
            ],
            [
                1630798495196,
                49853.83609019456
            ],
            [
                1630798826072,
                50004.21228592287
            ],
            [
                1630799092982,
                50025.97716207044
            ],
            [
                1630799387261,
                50011.046944209134
            ],
            [
                1630799671608,
                50013.02994694588
            ],
            [
                1630800018940,
                49965.17323293518
            ],
            [
                1630800337155,
                49926.69828151696
            ],
            [
                1630800617289,
                49894.04354014516
            ],
            [
                1630800817101,
                49862.22512821455
            ],
            [
                1630801176399,
                49827.84094993313
            ],
            [
                1630801497968,
                49878.145115405416
            ],
            [
                1630801751158,
                50022.668548159614
            ],
            [
                1630802056040,
                50091.65773318139
            ],
            [
                1630802396414,
                50288.68505917534
            ],
            [
                1630802693578,
                50268.69758893475
            ],
            [
                1630802996942,
                50223.69950194222
            ],
            [
                1630803304909,
                50206.818654759176
            ],
            [
                1630803564928,
                50172.57182127705
            ],
            [
                1630803801000,
                50166.353807649866
            ]
        ],
        marketCaps: [],
        totalVolumes: [])
    
    lazy var coinMarketChartPrices: [(Date, Double)] = (coinMarketChart.prices ?? []).compactMap({ dataPoint in
        guard dataPoint.count > 1 else { return nil }
        return (date: Date(milliseconds: Int64(dataPoint[0])), price: dataPoint[1])
    })
    
    let news = NewsModel(
        source: Source(id: nil, name: "Honolulu Star-Advertiser"),
        title: "Safe Access Oahu program to require proof of vaccination or recent COVID test to enter establishments - Honolulu Star-Advertiser",
        url: "https://soyacincau.com/2021/08/31/tesla-model-x-lengthy-software-update-stopped-vlogger-david-dobrik-driving-home/",
        urlToImage: "https://deadline.com/wp-content/uploads/2021/08/Mike-Richards.jpg?w=1000",
        publishedAt: "2021-08-30T21:50:47Z"
    )
    
}
